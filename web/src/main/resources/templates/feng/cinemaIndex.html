<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<link href="/web/css/bootstrap.css" rel="stylesheet" type="text/css">
		<link rel="stylesheet" href="/web/css/viwStyle.css" type="text/css"/>
		<script src="/web/js/jquery-3.4.0.min.js" type="text/javascript"></script>
		<script src="/web/js/bootstrap.min.js" type="text/javascript"></script>
		<script src="/web/js/vue.js" type="text/javascript"></script>
		<title>影院首页</title>
	</head>
	<body class="_body">
		<div class="allcontent" id="app">
			<!--上方div-->
			<div class="headerbackground">
				<div class="headercontent">
					<!--头部div设置-->
					<div class="headtopdiv">
						<div class="topleaderdiv">
							<!--logo图标div-->
							<div class="cinemalogo">
								<a href="cinemaIndex.html"><img class="cinemalogoimg" :src="cinema.logo"/></a>
							</div>
							<!--头部导航栏div-->
							<div class="cinemaleader">
								<ul class="leaderul">
									<li>
										<div class="leaderitem">
											<a href="cinemaIndex.html"><strong>首页</strong></a>
										</div>
									</li>
									<li>
										<div class="leaderitem">
											<a href=""><strong>公司介绍</strong></a>
										</div>
									</li>
									<li>
										<div class="leaderitem">
											<a href=""><strong>影城特色</strong></a>
										</div>
									</li>
									<li>
										<div class="leaderitem">
											<a href=""><strong>会员专区</strong></a>
										</div>
									</li>
									<li>
										<div class="leaderitem">
											<a href=""><strong>影城消息</strong></a>
										</div>
									</li>
								</ul>
							</div>
						</div>
						<div class="topbackgrounddiv"></div>
					</div>
					<!--轮播图div设置-->
					<div class="chartdiv">
						<div class="charts">
							<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
								<!-- 底部按钮区-->
								<ol class="carousel-indicators">
                                        <li v-for="(pic,index) in cinema.pics" :class="{'active':activeIndex===index}" data-target="#carousel-example-generic" :data-slide-to="index"></li>
                                    <!--									<li data-target="#carousel-example-generic" data-slide-to="1"></li>-->
									<!--<li data-target="#carousel-example-generic" data-slide-to="2"></li>-->
								</ol>
								<!-- 图片区 -->
								<div class="carousel-inner" role="listbox">
									<div class="item" :class="{'active':activeIndex===index}" v-for="(pic,index) in cinema.pics">
										<img class="chartsimg" :src="pic.url" alt="...">
										<div class="carousel-caption"></div>
									</div>
<!--									<div class="item">-->
<!--										<img class="chartsimg" src="/web/img/loginbackground.jpg" alt="...">-->
<!--										<div class="carousel-caption"></div>-->
<!--									</div>-->
								</div>
								<!-- 左右翻页按钮 -->
								<a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
									<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
									<span class="sr-only">Previous</span>
								</a>
								<a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
									<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
									<span class="sr-only">Next</span>
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--主体内容div-->
			<div class="maincontentdiv">
				<div class="maindiv">
					<div class="maincontent">
						<!--区域标题-->
						<div class="titlediv">
							<div class="titlecontendiv">
								<p>
									<span class="titletext">
										<strong>热映预告片</strong>
									</span>
								</p>
								<p>
									<span class="titletext">Hot-screen Trailer</span>
								</p>
							</div>
						</div>
						<div class="trailerdiv">
							<!--热门电影预告片-->
							<div class="playarea">
								<div class="playtrailer">
									<video class="playview" controls preload="auto" poster="/web/img/registbackground.jpg" >
										<source src="/web/video/sintel.mp4" type='video/mp4' />
									</video>
								</div>
							</div>
							<!--影院特色-->
							<div class="feature">
								<div class="mainareadiv">
									<div class="centertextdiv">
										<div class="contentarea">
											<div class="featureareatitle">
												<div class="featureareatitletext">
													<p>
														<span class="featuretitletext"><strong>影城特色</strong></span>
													</p>
													<p>
														<span class="featuretitletext" style="font-size: 24px;">&nbsp;Cinema features</span>
													</p>
												</div>
											</div>
											<div class="roomtype">
												<span class="roomtypename">
													<strong>巨幕厅</strong>
												</span>
											</div>
											<div class="typesdiv">
												<ul class="typesul">
													<li><span>IMAX</span></li>
													<li><span>中国巨幕</span></li>
													<li><span></span></li>
													<li><span></span></li>
												</ul>
											</div>
											<div class="roomvoice">
												<span class="roomtypename">
													<strong>环境音</strong>
												</span>
											</div>
											<div class="typesdiv" style="top: 178px;">
												<ul class="typesul">
													<li style="width: 33.333333%;"><span>杜比全景声</span></li>
													<li style="width: 35%;"><span>DTS:X 临境音</span></li>
												</ul>
											</div>
											<div class="room4d">
												<span class="roomtypename">
													<strong>4D厅</strong>
												</span>
											</div>
											<div class="typesdiv" style="top: 251px;">
												<ul class="typesul">
													<li><span>4DX</span></li>
													<li><span>4D国产</span></li>
												</ul>
											</div>
											<div class="roomjiguang">
												<span class="roomtypename">
													<strong>激光厅</strong>
												</span>
											</div>
											<div class="typesdiv" style="top: 324px;">
												<ul class="typesul">
													<li style="width: 50%;"><span>功能升级改进中</span></li>
												</ul>
											</div>
										</div>
									</div>
									<div class="lefttextdiv">
										<div class="leftcontentdiv">
											<img class="leftimg" src="/web/img/4674523.jpg"/>
										</div>
									</div>
									<div class="righttextdiv">
										<div class="rightcontentdiv">
											<img class="rightimg" :src="onepic.url"/>
										</div>
									</div>
								</div>
								<div class="featureareabackground"></div>
							</div>
							<!--热门电影列表-->
							<div class="hotfilmsdiv">
								<div class="filmscontentdiv">
									<div class="filmsdiv">
										<!--区域标题-->
										<div class="titlediv">
											<div class="titlecontendiv">
												<p>
													<span class="titletext"><strong>热映影片</strong></span>
												</p>
												<p>
													<span class="titletext">Hot films</span>
												</p>
											</div>
										</div>
										<!--影片列表-->
										<div class="filmcontentdiv">
											<div class="outerdiv">
												<ul class="list-inline filmstate">
													<li id="filminline1" class="labletext" onclick="typechoose($(this).index())"><a target="_blank">正在上映</a></li>
													<li id="filminline2" class="labletext" onclick="typechoose($(this).index())"><a target="_blank">即将上映</a></li>
												</ul>
												<div style="height: 100%;">
													<ul class="moviesbox" id="filmbox1">
														<li v-for="m1 in onshow">
															<div class="leaderitem" onmouseover="overhere(this)" onmouseleave="leavehere(this)">
																<a href="javascript:;" @click="gotoMovieMessage(1,m1.id)">
																	<img class="movie-img" :src="m1.mpic"/>
																	<div class="itemname">
																		<h5><strong v-text="m1.mname"></strong></h5>
																	</div>
																</a>
															</div>
														</li>
													</ul>
													<ul class="moviesbox" id="filmbox2">
														<li v-for="m2 in willshow">
															<div class="leaderitem" onmouseover="overhere(this)" onmouseleave="leavehere(this)">
																<a href="javascript:;" @click="gotoMovieMessage(1,m2.id)">
																	<img class="movie-img" :src="m2.mpic"/>
																	<div class="itemname">
																		<h5><strong v-text="m2.mname"></strong></h5>
																	</div>
																</a>
															</div>
														</li>
													</ul>
												</div>
												
											</div>
										</div>
										<div class="filmcontentbackground"></div>
									</div>
								</div>
							</div>
							<!--合作单位-->
							<div class="partnerdiv">
								<div class="titlecontendiv">
									<p><span class="titletext"><strong>合作单位</strong></span></p>
									<p><span class="titletext">Partners</span></p>
								</div>
							</div>
						</div>
					</div>
				</div>
				
			</div>
			<!--底部小广告div-->
			<div class="footdiv">
				<div class="footer">
					
				</div>
			</div>
		</div>
		<script type="text/javascript">
			$(function(){
				typechoose(0);
				var app=new Vue({
					el:"#app",
					data:{
						onshow:[],
						willshow:[],
						cinema:{},
                        activeIndex:0,
						onepic:{}

					},
					created:function () {
						_this=this;
						$.ajax({
							url:"/movie-stage/movie/movieon/1",
							type:"get",
							dataType:"json",
							success:function (data) {
								_this.onshow=data.object.onShow;
								_this.willshow=data.object.willShow;
								console.log(data.object)
							}
						})
						//根据影院id查出影院信息
						$.ajax({
							url:"/cinema-stage/cinema/bycid?cid=1",
							type:"get",
							dataType:"json",
							success:function (data) {
								_this.cinema=data.object;
								_this.onepic=data.object.pics[2];
								console.log(data)
							}
						})

					},
					methods:{
						gotoMovieMessage:function (cid,mid) {
							location.href="/web/feng/filmpage.html?mid="+mid+"&cid="+cid
						}

					}
				})


			});
			function typechoose(obj){
				if(obj==0){
					$("#filmbox1").css("display","block");
					$("#filmbox2").css("display","none");
					$("#filminline1").css("background-color","rgb(102, 102, 102)");
					$("#filminline2").css("background-color","rgb(179,179,179)");
				}
				if(obj==1){
					$("#filmbox2").css("display","block");
					$("#filmbox1").css("display","none");
					$("#filminline2").css("background-color","rgb(102, 102, 102)");
					$("#filminline1").css("background-color","rgb(179,179,179)");
				}
			};

			function overhere(obj){
				$(obj).children().children(":eq(1)").css("height","260px");
				$(obj).children().children(":eq(1)").children().css("padding-top","120px");
			};
			function leavehere(obj){
				$(obj).children().children(":eq(1)").css("height","34px");
				$(obj).children().children(":eq(1)").children().css("padding-top","0");
			};


		</script>
	</body>
</html>
